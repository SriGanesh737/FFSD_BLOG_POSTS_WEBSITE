<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All articles</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Schibsted+Grotesk:wght@400;500;600&display=swap" rel="stylesheet">
<script src="https://kit.fontawesome.com/3e893105a3.js" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@srexi/purecounterjs/dist/purecounter_vanilla.js"></script>
    <link rel="stylesheet" href="/css/searchbar.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" ></script>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js" ></script>
<link
      href="/css/admin.css"
      rel="stylesheet"
    />
</head>
<style>
    body{
        font-family: 'Schibsted Grotesk', sans-serif;
        background: rgb(242,239,240);
background: radial-gradient(circle, rgba(242,239,240,1) 0%, rgba(230,231,182,1) 100%);
    }
    .allcards{
        display: flex;
        gap: 20px;
        flex-wrap: wrap;
        justify-content: center;
        align-items: center;
        margin-left: auto;
        margin-right: auto;
        margin-top: 40px;
    }
    .singlecard
    {
        width:350px;
        display: flex;
        flex-direction: column;
        border-radius: 8px;
        min-height: 470px;
        padding-bottom: 5px;
        background-color: rgb(238, 238, 238);
    }
    .heading{
       border: 5px solid black;
       border-left: 0;
       border-top: 0;
      height: 45px;
      width: 170px;
      /* padding: 10px; */
      /* padding-bottom: 3px; */
      margin: 30px;
      padding-left: 5px;
    }
    .heading h2{
      font-size: 30px;
      font-weight: 500;
      margin: 0;
      padding: 0;
    }
     .image{
        width: 350px;
        height: 250px;
    }
    .image img{
        border-top-right-radius: 8px;
        border-top-left-radius:8px ;
        width: 100%;
        height: 100%;
        object-fit: fill;
    }
    .singlecard .content
    {
        padding: 3px;
    }
    .content h2{
        margin: 0;
        width: 200px;
    }
    .content h3
    {
        float: right;
    }
    .topicsss
    {
        margin-left: 10px;
        background-color: rgb(206, 174, 132);
        padding: 5px;
        /* width: 20px; */
        height: 23px;
        box-sizing: content-box;
        border-radius: 2px;
        font-size: 17px;
    }
    a{
        text-decoration: none;
        color: black;
    }
 .titler
 {
    display: flex;
    justify-content: space-between;
    font-size: 25px;
    padding: 5px;
 }
 .title{
   font-size: 22px;
   font-weight: 500;
 }
 .tags
 {
    display: flex;
    flex-wrap: wrap;
 }
 .ettag{
    padding: 5px;
    border: 2px solid rgb(146, 118, 118);
    margin: 5px;
 }
 .writer
 {
    margin-top: auto;


    /* justify-content: flex-end; */
    margin-right: 10px;
    text-align: right;
 }
 a .delete
 {
    border-radius: 5px;
    /* margin-left: 5px; */
    /* left: 0; */
    color: white;
    margin-left: auto;
    margin-right: auto;
    background-color: rgba(255, 40, 40, 0.97);
   height: 30px;
   width: 140px;
   font-size: 16px;
 }
 .deletion
 {
    text-align: center;
    margin-top: 5px;
 }
 .right
 {
    margin-bottom: 20px;
 }
</style>
<body>

    <%- include('partials/adminnavbar') %>


    <div class="right">
    <div class="heading">
    <h2>All articles</h2>
    </div>

    <%- include('partials/searchbar') %>

      <div class="allcards">
        <% if(articles.length!==0) {%>
         <% for(let i=0;i<articles.length;i++) {%>
            <a href="/posts/<%= articles[i]._id %>">
        <div class="singlecard">
            <div class="image">
            <img src="<%=articles[i].image_link %>" alt="">
        </div>
        <div class="content">
            <div class="titler">
                <div class="title"><%= articles[i].title.substring(0,50)  %>...</div>
                <div class="topicsss"><%=articles[i].topic %></div>
            </div>
            <div class="tags">
                <% for(let j=0;j<Math.min(articles[i].tags.length,3);j++) {%>
                <div class="ettag"><%=articles[i].tags[j] %></div>
                <!-- <div class="tag">jerkierjre</div> -->
                <!-- <div class="tag">eiertreutrehtreujhtretre ...</div> -->
                <!-- <div class="tag">jreierioreeirtnykyjiyrtuytreo</div> -->
                <% } %>
            </div>

        </div>


        <div class="writer">
           -- <%= articles[i].author_name %>
           <div class="deletion">

            <a href="javascript:void(0)"  data-href="/expert_articles/delete/<%=articles[i]._id %>" style="text-decoration: none;color: white;margin-left: 0;" class="delete_article"><button class="delete">DELETE</button></a>
        </div>
         </div>

        </div>
    </a>
        <% } %>
        <%} %>
        <% if(articles.length===0) { %>
            <div class="not_available" style="height: 300px;text-align: center;display: flex;align-items: center;justify-content: center;flex-direction: column;">
          
              <img src="../images/null.png" alt="">
           </div>
            <%} %>
      </div>

    </div>


    <script src="../js/admin.js"></script>
    <script src="../js/all_articles.js"></script>
</body>

</html>